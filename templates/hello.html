{{define "main"}}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pickles</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.2.0/cyborg/bootstrap.min.css">
    <style>
      .page {
        width: 100%;
        height: 100%;
      }
      .answer {
        margin-top: 20px;
        white-space: normal;
      }
      .help-section {
        position: absolute;
        right: 0;
        bottom: 0;
        font-size: 30px;
        margin-right: 10px;
        cursor: pointer;
      }
    </style>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="modal fade" id="instructions">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">WTF is this shit?</h4>
          </div>
          <div class="modal-body">
            <p>When you left your iPod at my apartment, I saw a unique
            opportunity. I thought it would be funny to put a passcode on it,
            and make you work your way to it. Granted, you could just reset
            the iPod, but then you'd lose all your music, so I knew you
            wouldn't risk it.</p>
            <p>So here's how this works: I'm going to give you an undisclosed
            number of trivia questions. When you answer them right, it'll
            flash green and you'll move on to the next question. If you're
            wrong, it'll flash red and send you back to the first question.
            After the last question, you'll receive your passcode.</p>
            <p>Don't worry about doing this all at once, it'll save your
            progress as long as you don't clear your (non-special)
            cookies.</p>
            <p>Enjoy.</p>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <div class="container page">
      <div class="row text-center">
        <div class="page-header"><h1>Welcome PKels <small>Let the games begin.</small></h1></div>
      </div>
      {{if .Passcode}}
        {{template "passcode" .}}
      {{else}}
        {{template "question" .}}
      {{end}}
    </div>
    <div data-toggle="modal" data-target="#instructions" class="help-section">
      <span class="glyphicon glyphicon-record"></span>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/color/jquery.color-2.1.2.min.js"></script>
    <script>
      {{template "js"}}
    </script>
  </body>
</html>
{{end}}
